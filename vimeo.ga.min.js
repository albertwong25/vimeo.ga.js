!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e.Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}function t(e,t,n){var o=g.get(e.element)||{};t in o||(o[t]=[]),o[t].push(n),g.set(e.element,o)}function n(e,t){return(g.get(e.element)||{})[t]||[]}function o(e,t,n){var o=g.get(e.element)||{};if(!o[t])return!0;if(!n)return o[t]=[],g.set(e.element,o),!0;var r=o[t].indexOf(n);return-1!==r&&o[t].splice(r,1),g.set(e.element,o),o[t]&&0===o[t].length}function r(e,t){return 0===e.indexOf(t.toLowerCase())?e:""+t.toLowerCase()+e.substr(0,1).toUpperCase()+e.substr(1)}function i(e){return/^(https?:)?\/\/(player.)?vimeo.com/.test(e)}function a(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.id,n=e.url,o=t||n;if(!o)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(function(e){return!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e}(o))return"https://vimeo.com/"+o;if(i(o))return o.replace("http:","https:");if(t)throw new TypeError("â€œ"+t+"â€ is not a valid video id.");throw new TypeError("â€œ"+o+"â€ is not a vimeo.com url.")}function u(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=w,o=Array.isArray(n),r=0;for(n=o?n:n[Symbol.iterator]();;){var i;if(o){if(r>=n.length)break;i=n[r++]}else{if((r=n.next()).done)break;i=r.value}var a=i,u=e.getAttribute("data-vimeo-"+a);(u||""===u)&&(t[a]=""===u?1:u)}return t}function s(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return new Promise(function(n,o){if(!i(e))throw new TypeError("â€œ"+e+"â€ is not a vimeo.com url.");var r="https://vimeo.com/api/oembed.json?url="+encodeURIComponent(e);for(var a in t)t.hasOwnProperty(a)&&(r+="&"+a+"="+encodeURIComponent(t[a]));var u="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;u.open("GET",r,!0),u.onload=function(){if(404!==u.status)if(403!==u.status)try{var t=JSON.parse(u.responseText);n(t)}catch(e){o(e)}else o(new Error("â€œ"+e+"â€ is not embeddable."));else o(new Error("â€œ"+e+"â€ was not found."))},u.onerror=function(){var e=u.status?" ("+u.status+")":"";o(new Error("There was an error fetching the embed code from Vimeo"+e+"."))},u.send()})}function c(e,t){var n=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var o=document.createElement("div");o.innerHTML=n;var r=o.firstChild;return t.appendChild(r),t.setAttribute("data-vimeo-initialized","true"),r}function f(e){return"string"==typeof e&&(e=JSON.parse(e)),e}function l(e,t,n){if(e.element.contentWindow.postMessage){var o={method:t};void 0!==n&&(o.value=n);var r=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));r>=8&&10>r&&(o=JSON.stringify(o)),e.element.contentWindow.postMessage(o,e.origin)}}function d(e,t){var r=[],i=void 0;if((t=f(t)).event){if("error"===t.event){var a=n(e,t.data.method),u=Array.isArray(a),s=0;for(a=u?a:a[Symbol.iterator]();;){var c;if(u){if(s>=a.length)break;c=a[s++]}else{if((s=a.next()).done)break;c=s.value}var l=c,d=new Error(t.data.message);d.name=t.data.name,l.reject(d),o(e,t.data.method,l)}}r=n(e,"event:"+t.event),i=t.data}else t.method&&(r=n(e,t.method),i=t.value,o(e,t.method));var h=r,p=Array.isArray(h),v=0;for(h=p?h:h[Symbol.iterator]();;){var y;if(p){if(v>=h.length)break;y=h[v++]}else{if((v=h.next()).done)break;y=v.value}var m=y;try{if("function"==typeof m){m.call(e,i);continue}m.resolve(i)}catch(e){}}}var h=void 0!==Array.prototype.indexOf,p=void 0!==window.postMessage;if(!h||!p)throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var v="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},y=(e(function(e,t){!function(e){function t(e,t){function n(e){return this&&this.constructor===n?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=t,void(e&&function(e){this.add?e.forEach(this.add,this):e.forEach(function(e){this.set(e[0],e[1])},this)}.call(this,e))):new n(e)}return t||v(e,"size",{get:d}),e.constructor=n,n.prototype=e,n}function n(e){return this.has(e)&&(this._keys.splice(p,1),this._values.splice(p,1),this._itp.forEach(function(e){p<e[0]&&e[0]--})),p>-1}function o(e){return this.has(e)?this._values[p]:void 0}function r(e,t){if(this.objectOnly&&t!==Object(t))throw new TypeError("Invalid value used as weak collection key");if(t!=t||0===t)for(p=e.length;p--&&!y(e[p],t););else p=e.indexOf(t);return p>-1}function i(e){return r.call(this,this._values,e)}function a(e){return r.call(this,this._keys,e)}function u(e,t){return this.has(e)?this._values[p]=t:this._values[this._keys.push(e)-1]=t,this}function s(e){return this.has(e)||this._values.push(e),this}function c(){(this._keys||0).length=this._values.length=0}function f(){return l(this._itp,this._values)}function l(e,t,n){var o=[0],r=!1;return e.push(o),{next:function(){var i,a=o[0];return!r&&a<t.length?(i=n?[t[a],n[a]]:t[a],o[0]++):(r=!0,e.splice(e.indexOf(o),1)),{done:r,value:i}}}}function d(){return this._values.length}function h(e,t){for(var n=this.entries();;){var o=n.next();if(o.done)break;e.call(t,o.value[1],o.value[0],this)}}var p,v=Object.defineProperty,y=function(e,t){return e===t||e!=e&&t!=t};"undefined"==typeof WeakMap&&(e.WeakMap=t({delete:n,clear:c,get:o,has:a,set:u},!0)),"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next||(e.Map=t({delete:n,has:a,get:o,set:u,keys:function(){return l(this._itp,this._keys)},values:f,entries:function(){return l(this._itp,this._keys,this._values)},forEach:h,clear:c})),"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(e.Set=t({has:i,add:s,delete:n,clear:c,keys:f,values:f,entries:function(){return l(this._itp,this._values,this._values)},forEach:h})),"undefined"==typeof WeakSet&&(e.WeakSet=t({delete:n,add:s,clear:c,has:i},!0))}(void 0!==t&&"undefined"!=typeof global?v:window)}),e(function(e){var t,n;t="Promise",(n="undefined"!=typeof global?global:v)[t]=n[t]||function(){function e(e,t){d.add(e,t),l||(l=p(d.drain))}function t(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function n(){for(var e=0;e<this.chain.length;e++)o(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function o(e,n,o){var r,i;try{!1===n?o.reject(e.msg):(r=!0===n?e.msg:n.call(void 0,e.msg))===o.promise?o.reject(TypeError("Promise-chain cycle")):(i=t(r))?i.call(r,o.resolve,o.reject):o.resolve(r)}catch(e){o.reject(e)}}function r(o){var a,s=this;if(!s.triggered){s.triggered=!0,s.def&&(s=s.def);try{(a=t(o))?e(function(){var e=new u(s);try{a.call(o,function(){r.apply(e,arguments)},function(){i.apply(e,arguments)})}catch(t){i.call(e,t)}}):(s.msg=o,s.state=1,s.chain.length>0&&e(n,s))}catch(e){i.call(new u(s),e)}}}function i(t){var o=this;o.triggered||(o.triggered=!0,o.def&&(o=o.def),o.msg=t,o.state=2,o.chain.length>0&&e(n,o))}function a(e,t,n,o){for(var r=0;r<t.length;r++)!function(r){e.resolve(t[r]).then(function(e){n(r,e)},o)}(r)}function u(e){this.def=e,this.triggered=!1}function s(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function c(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var o=new s(this);this.then=function(t,r){var i={success:"function"!=typeof t||t,failure:"function"==typeof r&&r};return i.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");i.resolve=e,i.reject=t}),o.chain.push(i),0!==o.state&&e(n,o),i.promise},this.catch=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){r.call(o,e)},function(e){i.call(o,e)})}catch(e){i.call(o,e)}}var f,l,d,h=Object.prototype.toString,p="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),f=function(e,t,n,o){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==o})}}catch(e){f=function(e,t,n){return e[t]=n,e}}d=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,n,o;return{add:function(r,i){o=new e(r,i),n?n.next=o:t=o,n=o,o=void 0},drain:function(){var e=t;for(t=n=l=void 0;e;)e.fn.call(e.self),e=e.next}}}();var v=f({},"constructor",c,!1);return c.prototype=v,f(v,"__NPO__",0,!1),f(c,"resolve",function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)})}),f(c,"reject",function(e){return new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)})}),f(c,"all",function(e){var t=this;return"[object Array]"!=h.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(n,o){if("function"!=typeof n||"function"!=typeof o)throw TypeError("Not a function");var r=e.length,i=Array(r),u=0;a(t,e,function(e,t){i[e]=t,++u===r&&n(i)},o)})}),f(c,"race",function(e){var t=this;return"[object Array]"!=h.call(e)?t.reject(TypeError("Not an array")):new t(function(n,o){if("function"!=typeof n||"function"!=typeof o)throw TypeError("Not a function");a(t,e,function(e,t){n(t)},o)})}),c}(),void 0!==e&&e.exports?e.exports=n[t]:"function"==typeof define&&define.amd&&define(function(){return n[t]})})),m=y&&"object"==typeof y&&"default"in y?y.default:y,g=new WeakMap,w=["id","url","width","maxwidth","height","maxheight","portrait","title","byline","color","autoplay","autopause","loop","responsive"],b=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},_=new WeakMap,E=new WeakMap,T=function(){function e(t){var n=this,o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(b(this,e),"jQuery"in window&&t instanceof jQuery&&(t.length>1&&"console"in window&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),"string"==typeof t&&(t=document.getElementById(t)),!function(e){return e instanceof window.HTMLElement}(t))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==t.nodeName){var r=t.querySelector("iframe");r&&(t=r)}if("IFRAME"===t.nodeName&&!i(t.getAttribute("src")||""))throw new Error("The player element passed isnâ€™t a Vimeo embed.");if(_.has(t))return _.get(t);this.element=t,this.origin="*";var h=new m(function(e,r){var l=function(t){if(i(t.origin)&&n.element.contentWindow===t.source){"*"===n.origin&&(n.origin=t.origin);var o=f(t.data),r="event"in o&&"ready"===o.event,a="method"in o&&"ping"===o.method;return r||a?(n.element.setAttribute("data-ready","true"),void e()):void d(n,o)}};if(window.addEventListener?window.addEventListener("message",l,!1):window.attachEvent&&window.attachEvent("onmessage",l),"IFRAME"!==n.element.nodeName){var h=u(t,o);s(a(h),h).then(function(e){var o=c(e,t);return n.element=o,function(e,t){var n=g.get(e);g.set(t,n),g.delete(e)}(t,o),e}).catch(function(e){return r(e)})}});return E.set(this,h),_.set(this.element,this),"IFRAME"===this.element.nodeName&&l(this,"ping"),this}return e.prototype.then=function(e){var t=arguments.length<=1||void 0===arguments[1]?function(){}:arguments[1];return this.ready().then(e,t)},e.prototype.callMethod=function(e){var n=this,o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return new m(function(r,i){return n.ready().then(function(){t(n,e,{resolve:r,reject:i}),l(n,e,o)})})},e.prototype.get=function(e){var n=this;return new m(function(o,i){return e=r(e,"get"),n.ready().then(function(){t(n,e,{resolve:o,reject:i}),l(n,e)})})},e.prototype.set=function(e,n){var o=this;return m.resolve(n).then(function(n){if(e=r(e,"set"),null==n)throw new TypeError("There must be a value to set.");return o.ready().then(function(){return new m(function(r,i){t(o,e,{resolve:r,reject:i}),l(o,e,n)})})})},e.prototype.on=function(e,o){if(!e)throw new TypeError("You must pass an event name.");if(!o)throw new TypeError("You must pass a callback function.");if("function"!=typeof o)throw new TypeError("The callback must be a function.");0===n(this,"event:"+e).length&&this.callMethod("addEventListener",e).catch(function(){}),t(this,"event:"+e,o)},e.prototype.off=function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");o(this,"event:"+e,t)&&this.callMethod("removeEventListener",e).catch(function(e){})},e.prototype.loadVideo=function(e){return this.callMethod("loadVideo",e)},e.prototype.ready=function(){var e=E.get(this);return m.resolve(e)},e.prototype.enableTextTrack=function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})},e.prototype.disableTextTrack=function(){return this.callMethod("disableTextTrack")},e.prototype.pause=function(){return this.callMethod("pause")},e.prototype.play=function(){return this.callMethod("play")},e.prototype.unload=function(){return this.callMethod("unload")},e.prototype.getAutopause=function(){return this.get("autopause")},e.prototype.setAutopause=function(e){return this.set("autopause",e)},e.prototype.getColor=function(){return this.get("color")},e.prototype.setColor=function(e){return this.set("color",e)},e.prototype.getCurrentTime=function(){return this.get("currentTime")},e.prototype.setCurrentTime=function(e){return this.set("currentTime",e)},e.prototype.getDuration=function(){return this.get("duration")},e.prototype.getEnded=function(){return this.get("ended")},e.prototype.getLoop=function(){return this.get("loop")},e.prototype.setLoop=function(e){return this.set("loop",e)},e.prototype.getPaused=function(){return this.get("paused")},e.prototype.getTextTracks=function(){return this.get("textTracks")},e.prototype.getVideoEmbedCode=function(){return this.get("videoEmbedCode")},e.prototype.getVideoId=function(){return this.get("videoId")},e.prototype.getVideoTitle=function(){return this.get("videoTitle")},e.prototype.getVideoWidth=function(){return this.get("videoWidth")},e.prototype.getVideoHeight=function(){return this.get("videoHeight")},e.prototype.getVideoUrl=function(){return this.get("videoUrl")},e.prototype.getVolume=function(){return this.get("volume")},e.prototype.setVolume=function(e){return this.set("volume",e)},e}();return function(){var e=arguments.length<=0||void 0===arguments[0]?document:arguments[0],t=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(e){"console"in window&&console.error&&console.error("There was an error creating an embed: "+e)},o=function(){if(i){if(f>=r.length)return"break";l=r[f++]}else{if((f=r.next()).done)return"break";l=f.value}var e=l;try{if(null!==e.getAttribute("data-vimeo-defer"))return"continue";s(a(e),u(e)).then(function(t){return c(t,e)}).catch(n)}catch(e){n(e)}},r=t,i=Array.isArray(r),f=0;e:for(r=i?r:r[Symbol.iterator]();;){var l;switch(o()){case"break":break e;case"continue":continue}}}(),T}),function(){"use strict";function e(e,t,n,o,r,i){if(null!=t&&null!=o&&0!=r){var a,u,s,c,f,l="Vimeo Video | "+n,d=o+" | "+t+" | "+(a=function(e,t){return("000"+e).slice(-1*t)},u=parseFloat(r).toFixed(3),s=Math.floor(u/60/60),c=Math.floor(u/60)%60,f=Math.floor(u-60*c),u.slice(-3),a(s,2)+":"+a(c,2)+":"+a(f,2));window.dataLayer?window.dataLayer.push({event:"vimeo",event_category:l,event_action:e,event_label:d,event_value:i}):window.ga?window.ga("send","event",l,e,d,i):window._gaq?window._gaq.push(["_trackEvent",l,e,d,i]):window.gtag&&window.gtag("event",e,{event_category:l,event_label:d,event_value:i})}}function t(t){var n,o,r=new window.Vimeo.Player(t),i=0,a=0,u=0,s=0,c=window.location!=window.parent.location?document.referrer:document.location.href;c=c.replace(/https?:\/\//gi,""),t.setAttribute("data-vimeo-tracked",!0),r.off("play"),r.off("timeupdate"),r.off("ended"),r.off("emailcapture"),r.getVideoId().then(function(t){e("load",n=t,c,o,a,u)}),r.getVideoTitle().then(function(t){e("load",n,c,o=t,a,u)}),r.getDuration().then(function(t){e("load",n,c,o,a=t,u)}),r.on("play",function(t){u=t.seconds,e("play",n,c,o,a,u),r.off("play")}),r.on("pause",function(t){u=t.seconds,e("pause",n,c,o,a,u)}),r.on("ended",function(t){u=t.seconds,e("progress - 100%",n,c,o,a,u)}),r.on("emailcapture",function(t){u=t.seconds,e("emailcapture",n,c,o,a,u)}),r.on("timeupdate",function(t){var r=i;u=t.seconds,s+=.25,t.percent>=.25&&i<.25?i=.25:t.percent>=.5&&i<.5?i=.5:t.percent>=.75&&i<.75&&(i=.75),r!==i&&e("progress - "+100*i+"%",n,c,o,a,u)}),window.onbeforeunload=function(t){e("leave",n,c,o,a,s)}}function n(){if(window.ga||window._gaq||window.dataLayer)for(var e,n=document.querySelectorAll("iframe:not([data-vimeo-tracked])"),o=0;o<n.length;o++)e=n[o].getAttribute("src"),/^(https?:)?\/\/(player.)?vimeo.com/.test(e)&&t(n[o]);else console.warn("No analytics libraries detected when looking for _gaq, ga, and dataLayer")}n(),window.__vimeoRefresh=n}();